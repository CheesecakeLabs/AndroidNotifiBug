<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>NotifiBug by CheesecakeLabs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">NotifiBug</h1>
      <h2 class="project-tagline">NotifiBug Library for Android</h2>
      <a href="https://github.com/CheesecakeLabs/AndroidNotifiBug" class="btn">View on GitHub</a>
      <a href="https://github.com/CheesecakeLabs/AndroidNotifiBug/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/CheesecakeLabs/AndroidNotifiBug/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="notifibug-library-for-android" class="anchor" href="#notifibug-library-for-android" aria-hidden="true"><span class="octicon octicon-link"></span></a>NotifiBug Library for Android</h1>

<p><a href="https://bintray.com/cheesecakelabs/maven/notifibug/_latestVersion"><img src="https://api.bintray.com/packages/cheesecakelabs/maven/notifibug/images/download.svg" alt="Download"></a>
<a href="http://www.opensource.org/licenses/MIT"><img src="http://img.shields.io/badge/license-MIT-blue.svg?style=flat" alt="License"></a></p>

<p>It does what every bug client needs to do but little earlier and in a smarter way</p>

<h2>
<a id="setup" class="anchor" href="#setup" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setup</h2>

<p>Releases are published to <a href="https://bintray.com/bintray/jcenter">bintray jcenter</a> (package appear immediately after release)</p>

<p>Gradle:</p>

<div class="highlight highlight-groovy"><pre>compile <span class="pl-s"><span class="pl-pds">'</span>io.ckl.notifibug:notifibug:0.2.0-snapshot<span class="pl-pds">'</span></span></pre></div>

<h2>
<a id="how-to-use-it" class="anchor" href="#how-to-use-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to use it</h2>

<p>Below is an example of how to register NotifiBug library to handle uncaught exceptions of you app and send 
crash reports to NotifiCrash service.</p>

<h3>
<a id="permissions-in-manifest" class="anchor" href="#permissions-in-manifest" aria-hidden="true"><span class="octicon octicon-link"></span></a>Permissions in manifest</h3>

<p>The <code>AndroidManifest.xml</code> requires the permission <code>android.permission.INTERNET</code> and would like the permission <code>android.permission.ACCESS_NETWORK_STATE</code> even though optional.</p>

<div class="highlight highlight-xml"><pre><span class="pl-c">&lt;!-- REQUIRED to send captures to NotifiCrash service --&gt;</span>
&lt;<span class="pl-ent">uses-permission</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.permission.INTERNET<span class="pl-pds">"</span></span> /&gt;

<span class="pl-c">&lt;!-- OPTIONAL but makes NotifiBug smarter --&gt;</span>
&lt;<span class="pl-ent">uses-permission</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.permission.ACCESS_NETWORK_STATE<span class="pl-pds">"</span></span> /&gt;</pre></div>

<h3>
<a id="init-library-in-your-project" class="anchor" href="#init-library-in-your-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Init library in your project</h3>

<div class="highlight highlight-java"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">MyApplication</span> <span class="pl-k">extends</span> <span class="pl-e">Application</span> {

    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onCreate</span>(<span class="pl-smi">Bundle</span> <span class="pl-v">savedInstanceState</span>) {
        <span class="pl-v">super</span><span class="pl-k">.</span>onCreate(savedInstanceState);

        <span class="pl-c">// NotifiBug will look for uncaught exceptions from previous runs and send them</span>
        <span class="pl-smi">NotifiBug</span><span class="pl-k">.</span>init(<span class="pl-v">this</span>, <span class="pl-s"><span class="pl-pds">"</span>YOUR_SERIAL_NUMBER<span class="pl-pds">"</span></span>);

    }

}</pre></div>

<h3>
<a id="enable-debug" class="anchor" href="#enable-debug" aria-hidden="true"><span class="octicon octicon-link"></span></a>Enable debug</h3>

<p>To enable logcat output in console add <code>setDebug(true)</code> just before <code>init</code></p>

<div class="highlight highlight-java"><pre>    <span class="pl-c">// Enable debug output</span>
    <span class="pl-smi">NotifiBug</span><span class="pl-k">.</span>setDebug(<span class="pl-c1">true</span>);
    <span class="pl-c">// NotifiBug init</span>
    <span class="pl-smi">NotifiBug</span><span class="pl-k">.</span>init(<span class="pl-v">this</span>, <span class="pl-s"><span class="pl-pds">"</span>YOUR_SERIAL_NUMBER<span class="pl-pds">"</span></span>);</pre></div>

<h3>
<a id="capture-a-message" class="anchor" href="#capture-a-message" aria-hidden="true"><span class="octicon octicon-link"></span></a>Capture a message</h3>

<div class="highlight highlight-java"><pre>    <span class="pl-smi">NotifiBug</span><span class="pl-k">.</span>captureMessage(<span class="pl-s"><span class="pl-pds">"</span>Something significant may have happened<span class="pl-pds">"</span></span>);</pre></div>

<h3>
<a id="set-a-listener-to-intercept-the-notifibugeventbuilder-before-each-capture" class="anchor" href="#set-a-listener-to-intercept-the-notifibugeventbuilder-before-each-capture" aria-hidden="true"><span class="octicon octicon-link"></span></a>Set a listener to intercept the NotifiBugEventBuilder before each capture</h3>

<div class="highlight highlight-java"><pre><span class="pl-c">// CALL THIS BEFORE CALLING NotifiBug.init()</span>
<span class="pl-c">// Sets a listener to intercept the NotifiBugEventBuilder before</span>
<span class="pl-c">// each capture to set values that could change state</span>
<span class="pl-smi">NotifiBug</span><span class="pl-k">.</span>setCaptureListener(<span class="pl-k">new</span> <span class="pl-smi">NotifiBugEventCaptureListener</span>() {

    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-smi">NotifiBugEventBuilder</span> <span class="pl-en">beforeCapture</span>(<span class="pl-smi">NotifiBugEventBuilder</span> <span class="pl-v">builder</span>) {

        <span class="pl-c">// Needs permission - &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;</span>
        <span class="pl-smi">ConnectivityManager</span> connManager <span class="pl-k">=</span> (<span class="pl-smi">ConnectivityManager</span>) getSystemService(<span class="pl-c1">CONNECTIVITY_SERVICE</span>);
        <span class="pl-smi">NetworkInfo</span> mWifi <span class="pl-k">=</span> connManager<span class="pl-k">.</span>getNetworkInfo(<span class="pl-smi">ConnectivityManager</span><span class="pl-c1"><span class="pl-k">.</span>TYPE_WIFI</span>);

        <span class="pl-c">// Sets extra key if wifi is connected</span>
        <span class="pl-k">try</span> {
            builder<span class="pl-k">.</span>getExtra()<span class="pl-k">.</span>put(<span class="pl-s"><span class="pl-pds">"</span>wifi<span class="pl-pds">"</span></span>, <span class="pl-smi">String</span><span class="pl-k">.</span>valueOf(mWifi<span class="pl-k">.</span>isConnected()));
            builder<span class="pl-k">.</span>getTags()<span class="pl-k">.</span>put(<span class="pl-s"><span class="pl-pds">"</span>tag_1<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>value_1<span class="pl-pds">"</span></span>);
        } <span class="pl-k">catch</span> (<span class="pl-smi">JSONException</span> e) {}

        <span class="pl-k">return</span> builder;
    }

});
</pre></div>

<h2>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors and Contributors</h2>

<p>Edited for NotifiCrash by Marko Arsic (<a href="https://github.com/marsicdev" class="user-mention">@marsicdev</a>)</p>

<p>This is refactored and optimised <a href="https://github.com/joshdholtz/Sentry-Android">Sentry for Android</a> library.
Credits for most of the code goes to <a href="https://github.com/joshdholtz" class="user-mention">@joshdholtz</a></p>

<h2>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support or Contact</h2>

<p>Having trouble with NotifiBug? Check out the <a href="">javadocs</a> or contact <a href="mailto:marko@ckl.io">marko@ckl.io</a> and weâ€™ll help you out.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>NotifiBug is available under the MIT license. See the <a href="https://github.com/CheesecakeLabs/AndroidNotifiBug/blob/master/LICENSE">LICENSE</a> file for more info.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/CheesecakeLabs/AndroidNotifiBug">NotifiBug</a> is maintained by <a href="https://github.com/CheesecakeLabs">CheesecakeLabs</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

